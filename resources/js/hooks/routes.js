import { matchPath, matchRoutes, useLocation } from "react-router"
import { routes } from "../routes/routes"
import { useMemo } from "react"

export const useNavigationLinks = () => {
  let navigation = {
    pages: [
      {
        path: '/shop',
        name: 'Spare parts',
        icon: <svg viewBox="0 0 24 24"><path d="M4.69 17.94c.168 0 .34.016.506-.004.134-.016.324.02.379-.139.065-.187-.114-.286-.238-.367a8.074 8.074 0 0 0-3.257-1.26c-.166-.024-.35-.037-.448.152-.097.184.012.341.109.477.36.506.784.91 1.436.997.503.067 1.005.138 1.512.145m14.497.02c.555-.021 1.018-.089 1.484-.136.659-.067 1.14-.407 1.524-.926.122-.165.298-.342.18-.57-.123-.234-.36-.182-.562-.147-1.103.192-2.125.606-3.08 1.198a1.029 1.029 0 0 0-.184.148c-.073.073-.163.148-.128.27.033.116.147.1.23.112.206.028.414.04.536.052m-15.004-3.82c.422.044.891.065 1.355-.032.308-.064.577-.2.642-.557.065-.363-.15-.574-.424-.737-.1-.06-.21-.108-.319-.15-.673-.255-1.37-.419-2.075-.558-.476-.093-.952-.166-1.433-.074-.478.091-.746.41-.787.91-.033.403.16.692.603.874.168.069.346.118.524.154.616.126 1.243.133 1.914.17m15.69-.003c.286-.015.574-.021.86-.045.545-.044 1.096-.07 1.605-.306.35-.163.572-.429.532-.845-.04-.416-.217-.742-.642-.861-.125-.035-.254-.073-.382-.075-1.246-.016-2.42.323-3.562.793-.357.147-.508.452-.427.836.072.342.372.418.652.48.452.098.909.063 1.364.023m-7.878 3.985c.808 0 1.616.011 2.424-.004a6.796 6.796 0 0 0 1.51-.188c.63-.156.775-.35.773-1.002-.002-.71-.238-1.356-.518-1.995-.22-.5-.588-.803-1.083-.965a3.728 3.728 0 0 0-.918-.186c-1.289-.085-2.58-.005-3.87-.033a3.986 3.986 0 0 0-1.386.212c-.404.14-.775.341-.986.739a5.611 5.611 0 0 0-.621 1.886c-.125.916.09 1.23.97 1.388 1.226.222 2.468.17 3.705.148m.015-13.045l-5.757.001c-.165 0-.327-.032-.45.156-.572.88-1.113 1.776-1.445 2.783-.286.869-.072 1.248.792 1.531.702.23 1.426.33 2.154.387 2.88.226 5.765.212 8.648.059.962-.051 1.925-.133 2.854-.433.944-.304 1.142-.692.813-1.647-.31-.902-.811-1.702-1.296-2.511-.144-.242-.311-.336-.596-.334-1.905.014-3.811.007-5.717.008M2.917 8.61c.67-1.196 1.297-2.32 1.961-3.422.328-.544.747-.842 1.37-.918a33.506 33.506 0 0 1 3.162-.225c2.689-.073 5.376-.083 8.058.188.792.08 1.374.382 1.78 1.137.497.922 1.047 1.817 1.557 2.734.062.112.101.265.27.248.159-.015.213-.162.238-.284.106-.532.413-.68.923-.626.49.052.99.018 1.487.008.218-.004.325.058.256.297-.003.013-.003.027-.005.04-.135 1.032-.136 1.02-1.165 1.15-.261.034-.588-.098-.776.238-.084.15-.093.224.095.28 1.185.347 1.494 1.287 1.464 2.243-.056 1.766-.232 3.52-.425 5.274-.105.946-.026 1.896-.046 2.844-.013.633-.166.797-.793.798-.588 0-1.175.003-1.762-.003-.475-.005-.655-.198-.662-.685-.01-.851-.01-.85-.839-.85H4.771c-.668 0-.668 0-.67.664 0 .067 0 .134-.002.2-.01.471-.185.665-.634.67a82.51 82.51 0 0 1-1.958 0c-.402-.004-.592-.2-.623-.611-.001-.013-.003-.027-.002-.04.141-2.524-.336-5.01-.44-7.518-.016-.374-.036-.75-.02-1.122.04-.916.501-1.53 1.332-1.833.103-.037.32.009.268-.196-.04-.156-.133-.31-.352-.32-.378-.016-.754-.077-1.131-.092-.258-.01-.373-.113-.386-.379-.016-.339-.28-.754-.075-.985.18-.204.619-.051.943-.059.391-.009.783.006 1.175-.005.185-.005.284.063.348.243.102.285.227.562.373.917" fill="#F37C2E" fillRule="evenodd"/></svg>
      },
      {
        path: '/shop?types=7',
        name: 'Brakes',
        icon: <svg viewBox="0 0 24 24"><path d="M11.698 1.995c5.333 0 9.702 4.368 9.702 9.703 0 5.333-4.368 9.702-9.702 9.702s-9.703-4.368-9.703-9.702 4.368-9.703 9.703-9.703zm0 18.268c4.723 0 8.565-3.842 8.565-8.565 0-4.724-3.842-8.566-8.565-8.566-4.724 0-8.566 3.842-8.566 8.566 0 4.723 3.842 8.565 8.566 8.565zm0-14.592a6.033 6.033 0 0 1 6.026 6.027c0 3.333-2.716 6.026-6.026 6.026-3.31 0-6.027-2.692-6.027-6.026a6.033 6.033 0 0 1 6.027-6.027zm0 7.277a1.25 1.25 0 1 0 .001-2.5 1.25 1.25 0 0 0-.002 2.5zm-4.89-1.25c0 .687.143 1.341.4 1.935l2.197-1.268a2.38 2.38 0 0 1 0-1.334L7.208 9.762a4.861 4.861 0 0 0-.4 1.936zm7.182-.667a2.38 2.38 0 0 1 0 1.334l2.197 1.268a4.86 4.86 0 0 0 .4-1.935c0-.688-.143-1.342-.4-1.936l-2.197 1.269zm1.627-2.253a4.89 4.89 0 0 0-3.35-1.936v2.537c.446.11.844.345 1.153.668l2.197-1.269zm-4.488-1.936a4.89 4.89 0 0 0-3.35 1.936l2.196 1.269a2.387 2.387 0 0 1 1.154-.668V6.842zm-3.35 7.775a4.89 4.89 0 0 0 3.35 1.936v-2.537a2.387 2.387 0 0 1-1.154-.668l-2.197 1.269zm4.487 1.936a4.89 4.89 0 0 0 3.351-1.936l-2.197-1.269a2.387 2.387 0 0 1-1.154.668v2.537z" fill="#F47D2F" fillRule="evenodd"/></svg>
      },
      {
        path: '/shop?collection=7',
        name: 'Accessories',
        icon: <svg viewBox="0 0 24 24"><g fill="none" fillRule="evenodd"><path d="M0 0h24v24H0z"/><path d="M12.54 9.81h1.61A2.15 2.15 0 0 1 16.3 12v8c0 .294-.06.575-.166.83h2.626V9.43a3.12 3.12 0 0 0-5.697-1.773 3.115 3.115 0 0 0-.523 1.733zm-1.28 0v-.37a4.379 4.379 0 0 1 2.52-4V3.11H12.5a3.13 3.13 0 0 0-3.11 3.15H8.15a4.35 4.35 0 0 1 4.35-4.38h5.63a.62.62 0 0 1 .43-.6L22.31 0a.64.64 0 0 1 .57.12.63.63 0 0 1 .27.51v3.74a.63.63 0 0 1-.27.51.61.61 0 0 1-.37.12h-.2l-3.79-1.29a.62.62 0 0 1-.43-.6h-.6v2.34A4.38 4.38 0 0 1 20 9.4v12a.65.65 0 0 1-.62.67h-4.647c-.185.052-.38.08-.583.08h-12A2.15 2.15 0 0 1 0 20v-8a2.15 2.15 0 0 1 2.15-2.19zM1.3 12v8c0 .47.38.85.85.85h12c.47 0 .85-.38.85-.85v-8a.85.85 0 0 0-.85-.85h-12a.85.85 0 0 0-.85.85zM7 19.11v-2H5v-2.3h2v-2h2.3v2h2v2.3h-2v2zm9.25-14.05V3.11h-1.24v1.95a3.87 3.87 0 0 1 1.24 0zm5.66-1.55V1.49l-2.51.84v.35z" fill="#f37c2e" fillRule="nonzero"/></g></svg>,
      },
      {
        path: '/shop?types=4',
        name: 'Oils',
        icon: <svg viewBox="0 0 24 24"><path d="M19.835 12.676a.568.568 0 0 1-.329.598l-8.445 3.808c-.5.227-1.083.198-1.557-.076l-6.386-3.687a1.707 1.707 0 0 1-.624-2.33l1.5-2.598-1.57-1.77a1.703 1.703 0 0 1-.2-1.985l.507-.878a1.704 1.704 0 0 1 2.753-.279L6.76 4.92l2.382 1.375.568-.984-1.477-.853a.568.568 0 0 1 .569-.985l3.938 2.274a.568.568 0 0 1-.568.985l-1.477-.853-.569.985 2.054 1.185c.395.228.677.596.795 1.036l.613 2.288 5.764.82c.25.036.447.233.482.483zm-16.56-6.81l1.319 1.487L5.7 5.437 4.633 4.234a.568.568 0 0 0-.917.093l-.507.878a.568.568 0 0 0 .067.661zm7.317 10.18l1.01-.455-7.839-4.525-.284.492a.57.57 0 0 0 .208.776l6.385 3.687a.57.57 0 0 0 .52.025zm2.286-1.03l4.375-1.973-4.196-.597a.569.569 0 0 1-.47-.416l-.71-2.651a.565.565 0 0 0-.264-.345L6.605 6.143 4.331 10.08l8.547 4.934zm8.251 2.731a2.276 2.276 0 0 1-2.004 3.349 2.276 2.276 0 0 1-2.004-3.349l1.49-3.147a.568.568 0 0 1 1.028 0l1.49 3.147zm-2.004 2.212a1.138 1.138 0 0 0 .983-1.711l-.983-2.077-.983 2.077a1.121 1.121 0 0 0-.154.574c0 .627.51 1.137 1.137 1.137z" fill="#F47D2F" fillRule="evenodd"/></svg>
      },
      {
        path: '/shop?collection=8',
        name: 'Tools',
        icon: <svg viewBox="0 0 24 24"><path d="M5.555 18.88a.525.525 0 1 1 0-1.05.525.525 0 0 1 0 1.05zm14.071-3.816a3.26 3.26 0 1 1-4.555 4.572l-3.588-4.383-4.172 4.811a2.46 2.46 0 0 1-3.764-.016 2.37 2.37 0 0 1-.526-1.846 2.63 2.63 0 0 1 .911-1.677l5.565-4.799-2.505-2.505-2.111-.704a.525.525 0 0 1-.303-.261L3.057 5.249a.525.525 0 0 1 .097-.609L4.64 3.154c.16-.16.406-.2.609-.097l3.006 1.521a.526.526 0 0 1 .262.303l.703 2.11 2.67 2.67.698-.6.004-.004c.118-.1.18-.246.18-.4v-2.05c0-.42.17-.817.467-1.114l1.723-1.723a2.625 2.625 0 0 1 3.715 0 .525.525 0 0 1 0 .743L17.19 5.999a.525.525 0 1 0 .743.743l1.486-1.486a.525.525 0 0 1 .742 0 2.63 2.63 0 0 1 0 3.714l-1.722 1.723a1.566 1.566 0 0 1-1.115.462h-2.049a.524.524 0 0 0-.4.186l-.005.005-.178.205 4.923 3.505a.443.443 0 0 1 .01.008zM7.646 8.39l2.649 2.648.798-.688L8.39 7.647a.525.525 0 0 1-.127-.205l-.675-2.024-2.474-1.251-.948.947L5.418 7.59l2.024.674a.54.54 0 0 1 .205.127zm-1.13 10.988l7.56-8.719c.3-.353.737-.548 1.2-.548h2.05c.14 0 .272-.061.37-.16l1.724-1.723a1.579 1.579 0 0 0 .307-1.794l-1.05 1.05a1.578 1.578 0 0 1-2.23 0 1.578 1.578 0 0 1 0-2.228L17.5 4.205a1.577 1.577 0 0 0-1.794.308l-1.723 1.723a.526.526 0 0 0-.16.371v2.05c0 .463-.196.9-.55 1.2-1.154.996-3.99 3.448-8.656 7.465l-.003.003c-.627.53-.746 1.468-.26 2.048.57.682 1.599.67 2.158.01l.004-.005zm5.666-4.931l.699.854 1.962-2.354-.841-.599-1.82 2.099zm7.05 4.786a2.209 2.209 0 0 0-.231-3.325l-3.3-2.35-2.142 2.571 2.331 2.85.014.017a2.21 2.21 0 0 0 3.328.237z" fill="#F47D2F" fillRule="evenodd"/></svg>
      },
    ],
    categories: []
  }

  return navigation
}

export const useCurrentRoute = () => {
  const location = useLocation()
  const [{ route }] = matchRoutes(routes, location.pathname)

  const isCurrentPath = matchPath(route.path, location.pathname) !== null

  return { route, isCurrentPath }
}

export const useQuery = () => {
  const { search } = useLocation()
  return useMemo(() => new URLSearchParams(search), [search]);
}

export const useCurrentPath = () => {
  return useLocation().pathname
}

export const useCurrentUrl = () => {
  const { pathname, search } = useLocation()
  return pathname+search
}